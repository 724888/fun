#### tcp头部  

以太网首部 - IP首部 - TCP首部 - 应用数据

首先来明确下tcp要做的一些事情，从上面这句话可以看到是一层层封装的。在网络层次结构中，只需要关心  
上层和自己临近的一层。ip层为我们提供了主机和主机间的不可靠链接。 tcp需要提供的就是应用进程间的可靠  
链接。 为了提供具体的应用进程间的链接，使用了16位的端口号。（A的ip，端口， B的ip，端口）构成了一个四元组  
用来标识唯一的一个链接。 由于tcp是面向流的，tcp用32位的序列号和确认号 来标识。 用4位来标识首部长度  
还需要几位的标志位 来标识各种状态。 tcp是可以控制流量的，这个靠窗口来实现。 并且tcp是要对整个报文进行校验的  
以上就是tcp中主要要了解到的字段。 

![tcp头](http://pyblog-10073407.image.myqcloud.com/postimage1511277046)



#### 什么时候用tcp 什么时候用udp？  

实时性，公平性，带宽 这三点是无法同时满足的。  
UDP也可以实现可靠传输，这种方式放弃了公平性（没有拥塞控制）增加了实时性（不需要三次握手  
来建立链接。）  
在实时性要求高的场合使用udp比较好，比如实时聊天。  
其它一些场合使用tcp，tcp是可以充分利用带宽的。比如 传输文件。。。